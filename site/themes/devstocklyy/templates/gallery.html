{% extends "base.html" %}

{% block content %}
<div class="gallery-container">
    <h1>{{ section.title }}</h1>
    
    {{ section.content | safe }}
    
    <!-- Compatibility Matrix -->
    <section class="compatibility-matrix" aria-labelledby="matrix-title">
        <h2 id="matrix-title">OCM Compatibility Matrix 🔄</h2>
        
        <!-- Overview -->
        <div class="matrix-overview">
            <h3>Overview</h3>
            <p>This matrix displays the current compatibility status of various file sharing and collaboration features across different platforms. Each cell shows the real-time status of automated tests between different platform combinations.</p>
        </div>

        <!-- Status Indicators -->
        <div class="matrix-legend" aria-label="Status legend">
            <h3>Status Indicators 📊</h3>
            <span class="legend-item">✅ All tests passing</span>
            <span class="legend-item">❌ One or more tests failing</span>
            <span class="legend-item">🕒 Tests in progress or pending</span>
            <span class="legend-item">⚪ Tests not recently run</span>
        </div>

        <!-- Authentication Tests -->
        <div class="matrix-section">
            <h3>Authentication Tests 🔐</h3>
            <p>Tests platform authentication mechanisms and user session management.</p>
            <div class="matrix-container">
                <table class="auth-matrix">
                    <thead>
                        <tr>
                            <th scope="col">Platform</th>
                            <th scope="col">Nextcloud v27.1.11</th>
                            <th scope="col">Nextcloud v28.0.14</th>
                            <th scope="col">oCIS v5.0.9</th>
                            <th scope="col">OcmStub v1.0.0</th>
                            <th scope="col">ownCloud v10.15.0</th>
                            <th scope="col">Seafile v11.0.5</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Authentication matrix rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Public Link Sharing Tests -->
        <div class="matrix-section">
            <h3>Public Link Sharing Tests 🔗</h3>
            <p>Validates creation, management, and access of public share links across platforms.</p>
            <div class="matrix-container">
                <table class="public-link-matrix">
                    <thead>
                        <tr>
                            <th scope="col">Source Platform ➜ Target Platform</th>
                            <th scope="col">Nextcloud v27.1.11</th>
                            <th scope="col">Nextcloud v28.0.14</th>
                            <th scope="col">ownCloud v10.15.0</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Public link matrix rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Direct User Sharing Tests -->
        <div class="matrix-section">
            <h3>Direct User Sharing Tests 🤝</h3>
            <p>Tests direct file and folder sharing capabilities between users across different platforms.</p>
            <div class="matrix-container">
                <table class="direct-share-matrix">
                    <thead>
                        <tr>
                            <th scope="col">Source Platform ➜ Target Platform</th>
                            <th scope="col">Nextcloud v27.1.11</th>
                            <th scope="col">Nextcloud v28.0.14</th>
                            <th scope="col">OcmStub v1.0.0</th>
                            <th scope="col">ownCloud v10.15.0</th>
                            <th scope="col">Seafile v11.0.5</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Direct share matrix rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ScienceMesh Federation Tests -->
        <div class="matrix-section">
            <h3>ScienceMesh Federation Tests 🌐</h3>
            <p>Tests federated sharing capabilities between ScienceMesh-enabled platforms.</p>
            <div class="matrix-container">
                <table class="sciencemesh-matrix">
                    <thead>
                        <tr>
                            <th scope="col">Source Platform ➜ Target Platform</th>
                            <th scope="col">Nextcloud v27.1.11 with ScienceMesh</th>
                            <th scope="col">oCIS v5.0.9</th>
                            <th scope="col">ownCloud v10.15.0 with ScienceMesh</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- ScienceMesh matrix rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Test Categories -->
    <section class="test-categories">
        <!-- Authentication Tests -->
        <article class="category" id="auth-tests">
            <header>
                <h2>Authentication Tests 🔐</h2>
                <p class="category-description">Tests for user authentication across different platforms</p>
            </header>
            <div class="test-grid" role="list">
                <!-- Authentication test videos will be loaded here -->
            </div>
        </article>

        <!-- Public Link Sharing Tests -->
        <article class="category" id="share-link-tests">
            <header>
                <h2>Public Link Sharing Tests 🔗</h2>
                <p class="category-description">Tests for public link sharing functionality</p>
            </header>
            <div class="test-grid" role="list">
                <!-- Share link test videos will be loaded here -->
            </div>
        </article>

        <!-- Direct User Sharing Tests -->
        <article class="category" id="share-with-tests">
            <header>
                <h2>Direct User Sharing Tests 🤝</h2>
                <p class="category-description">Tests for direct user-to-user sharing capabilities</p>
            </header>
            <div class="test-grid" role="list">
                <!-- Share with test videos will be loaded here -->
            </div>
        </article>

        <!-- ScienceMesh Federation Tests -->
        <article class="category" id="sciencemesh-tests">
            <header>
                <h2>ScienceMesh Federation Tests 🌐</h2>
                <p class="category-description">Tests for ScienceMesh federation features</p>
            </header>
            <div class="test-grid" role="list">
                <!-- ScienceMesh test videos will be loaded here -->
            </div>
        </article>
    </section>
</div>

<!-- Templates -->
{% include "partials/gallery/templates.html" %}

<!-- Scripts -->
<script type="module" src="{{ get_url(path="/js/main.js", trailing_slash=false) | safe }}"></script>
{% endblock content %}
