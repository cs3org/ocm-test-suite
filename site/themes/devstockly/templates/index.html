{% extends "base.html" %}

{% block content %}
{% include "sections/hero.html" %}
{% include "sections/partners.html" %}
{% include "sections/info.html" %}

<section class="test-matrix-section" id="testMatrix">
    <div class="container">
        <!-- Matrix Header with Quick Actions -->
        <div class="matrix-header">
            <div class="matrix-title-group">
                <span class="section-badge">Test Results</span>
                <h2>OCM Compatibility Matrix</h2>
                <p>Explore cross-platform compatibility test results and detailed recordings</p>
            </div>
            
            <div class="quick-actions">
                <button class="action-button" id="downloadBtn">
                    <span class="button-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                        </svg>
                    </span>
                    Download Tests
                </button>
                <button class="action-button secondary" onclick="document.querySelector('.matrix-instructions').scrollIntoView({behavior: 'smooth'})">
                    <span class="button-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                        </svg>
                    </span>
                    How it Works
                </button>
            </div>
        </div>

        <!-- Quick Download Links -->
        <div class="quick-downloads elevation-1">
            <div class="downloads-header">
                <h3>Quick Downloads</h3>
                <p>Download test results filtered by platform or type</p>
            </div>
            <div class="downloads-grid">
                <a href="./artifacts/bundles/ocm-tests-nextcloud.zip" class="download-card" download>
                    <span class="platform-icon">
                      <img src="./images/platforms/nextcloud.svg" alt="Nextcloud Logo">
                    </span>
                    <span>Nextcloud</span>
                </a>
                <a href="./artifacts/bundles/ocm-tests-owncloud.zip" class="download-card" download>
                    <span class="platform-icon">
                      <img src="./images/platforms/owncloud.svg" alt="ownCloud Logo">
                    </span>
                    <span>ownCloud</span>
                </a>
                <a href="./artifacts/bundles/ocm-tests-ocis.zip" class="download-card" download>
                    <span class="platform-icon">
                      <img src="./images/platforms/ocis.png" alt="oCIS Logo">
                    </span>
                    <span>oCIS</span>
                </a>
                <a href="./artifacts/bundles/ocm-tests-cernbox.zip" class="download-card" download>
                    <span class="platform-icon">
                      <img src="./images/platforms/cernbox.png" alt="CERNBox Logo">
                    </span>
                    <span>CERNBox</span>
                </a>
                <a href="./artifacts/bundles/ocm-tests-seafile.zip" class="download-card" download>
                    <span class="platform-icon">
                      <img src="./images/platforms/seafile.svg" alt="Seafile Logo">
                    </span>
                    <span>Seafile</span>
                </a>
            </div>
        </div>

        <!-- Advanced Download Menu (Hidden by default) -->
        <div class="advanced-downloads elevation-2" id="advancedDownloads">
            <div class="downloads-section">
                <h4>By Test Type</h4>
                <div class="downloads-list">
                    <a href="./artifacts/bundles/ocm-tests-login.zip" download>Login Tests</a>
                    <a href="./artifacts/bundles/ocm-tests-share.zip" download>Share Tests</a>
                    <a href="./artifacts/bundles/ocm-tests-invite.zip" download>Invite Tests</a>
                </div>
            </div>
            <div class="downloads-section">
                <h4>By Result</h4>
                <div class="downloads-list">
                    <a href="./artifacts/bundles/ocm-tests-success.zip" download>Successful Tests</a>
                    <a href="./artifacts/bundles/ocm-tests-failed.zip" download>Failed Tests</a>
                </div>
            </div>
            <div class="downloads-section">
                <h4>Complete Bundle</h4>
                <div class="downloads-list">
                    <a href="./artifacts/ocm-tests-all.zip" download class="featured">Download All Tests</a>
                </div>
            </div>
        </div>

        <!-- Matrix Instructions -->
        <div class="matrix-instructions elevation-1">
            <div class="instruction-content">
                <div class="instruction-header">
                    <div class="header-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <div>
                        <span class="instruction-badge">Guide</span>
                        <h3>Understanding Test Results</h3>
                        <p>Follow these steps to explore the compatibility matrix</p>
                    </div>
                </div>

                <div class="instruction-steps">
                    <div class="step">
                        <div class="step-marker">1</div>
                        <div class="step-content">
                            <h4>Select Platform</h4>
                            <p>Choose source and target platforms from the matrix to view specific test results</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-marker">2</div>
                        <div class="step-content">
                            <h4>View Status</h4>
                            <p>Click on any status indicator to see detailed test information and recordings</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-marker">3</div>
                        <div class="step-content">
                            <h4>Analyze Results</h4>
                            <p>Review test steps, watch recordings, and download artifacts for deeper analysis</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Matrix Container -->
        <div class="matrix-container elevation-1">
            <div id="compatibilityMatrix"></div>
        </div>
    </div>
</section>
{% endblock content %} 